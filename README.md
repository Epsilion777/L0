# Проект L0
### Проект L0 - это сервис для принятия сообщений о заказах из nats-streaming, а так же их валидация и отображение.
## Использование
Для запуска приложения и базы данных выполните следующие шаги:

1. Установите Docker и Docker Compose.

2. Запустите контейнеры Docker с помощью команды
```
docker-compose up
```
3. Примените миграции базы данных с помощью утилиты Migrate
```
migrate -path ./schema -database 'postgres://postgres:123321@localhost:5436/wb?sslmode=disable' up
```
4. Запустите сервис, используя команду
```
go run cmd\subscriber\main.go
```
5. Запустите тестовые публикации в канал, используя команду
```
go run cmd\publisher\main.go
```

## API

API предоставляет следующие ресурсы:

### Получение списка заказов

Метод: `GET`
Путь: `/`

Описание: получает список всех существующих заказов из кеша.

Ответ:

- Код 200 (OK) и HTML документ со списком UID заказов.

### Получение информации о заказе по UID

Метод: `GET`
Путь: `/orders/:id`

Описание: получает подробную информацию о конкретном заказе по его UID.

Ответ:

- Код 200 (OK) и HTML документ с подробной информацией о заказе.

## Нагрузочное тестирование

### Тестирование проводилось с помощью утилиты WRK и ngrok
```
wrk -t12 -c400 -d30s https://655e-2a02-2168-8c51-ba00-4570-fbd-deaa-8a32.ngrok-free.app/orders/61325029-5fe9-4c28-b134-1aae629eccb6
```
![test](https://i.ibb.co/YPhKG6h/Screenshot-2.png)
